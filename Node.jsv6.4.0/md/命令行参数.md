# Node.js v6.4.0文档

<!-- toc orderedList:0 -->

- [Node.js v6.4.0文档](#nodejs-v640文档)
- [命令行参数](#命令行参数)
	- [摘要](#摘要)
	- [参数](#参数)
		- [`-v，--version`](#-v-version)
		- [`-h，--help`](#-h-help)
		- [`-e，--eval "script"`](#-e-eval-script)
		- [`-p，--print "script"`](#-p-print-script)
		- [`-c，--check`](#-c-check)
		- [`-i，--interactive`](#-i-interactive)
		- [`-r，--require 模块`](#-r-require-模块)
		- [`--no-deprecation`](#-no-deprecation)
		- [`--trace-deprecation`](#-trace-deprecation)
		- [`--throw-deprecation`](#-throw-deprecation)
		- [`--no-warnings`](#-no-warnings)
		- [`--trace-warnings`](#-trace-warnings)
		- [`--trace-sync-io`](#-trace-sync-io)
		- [`--zero-fill-buffers`](#-zero-fill-buffers)
		- [`--preserve-symlinks`](#-preserve-symlinks)
		- [`--track-heap-objects`](#-track-heap-objects)
		- [`--prof-process`](#-prof-process)
		- [`--v8-options`](#-v8-options)
		- [`--tls-cipher-list=list`](#-tls-cipher-listlist)
		- [`--enable-fips`](#-enable-fips)
		- [`--force-fips`](#-force-fips)
		- [`--icu-data-dir=file`](#-icu-data-dirfile)
	- [环境变量](#环境变量)
		- [`NODE_DEBUG=module[,...]`](#node_debugmodule)
		- [`NODE_PATH=path[:...]`](#node_pathpath)
		- [`NODE_DISABLE_COLOR=1`](#node_disable_color1)
		- [`NODE_ICU_DATA=life`](#node_icu_datalife)
		- [`NODE_REPL_HISTORY=file`](#node_repl_historyfile)
		- [`NODE_TTY_UNSAFE_ASYNC=1`](#node_tty_unsafe_async1)

<!-- tocstop -->


# 命令行参数
Node.js包含各种各样的命令行界面参数。这些参数包括内置的调试、多种执行脚本的方式和其他一些有用的运行时参数。

如果想要将该文档作为手册在你的终端查看，运行`man node`。

## 摘要

`node [options] [v8 options] [script.js | -e "script"] [arguments]`

`node debug [script.js | -e "script" | <host>:<port>] …`

`node --v8-options`

不携带参数执行可以启动[REPL](https://nodejs.org/dist/latest-v6.x/docs/api/repl.html)

获取更多`node debug`相关信息，请查看[debugger](https://nodejs.org/dist/latest-v6.x/docs/api/debugger.html)文档。

## 参数

### `-v，--version`
添加于v0.1.3

打印出Node.js的版本。

### `-h，--help`
添加于v0.1.3

打印出node命令行参数。该参数的输出内容没有该文档内容详细。

### `-e，--eval "script"`
添加于v0.5.2

将后面的参数作为JavaScript执行。在REPL中预先定义的模块也可以在`script`中使用。

### `-p，--print "script"`
添加于v0.6.4

与`-e`相同，但打印出结果。

### `-c，--check`
添加于v5.0.0

不执行脚本的情况下进行语法检查。

### `-i，--interactive`
添加于v0.7.7

打开REPL即使标准输入不是一个终端。

### `-r，--require 模块`
添加于v1.6.0

在启动时预先加载指定的模块。

参数后面跟随需要的模块解决规则。`module`可以是文件路径或者node模块名。

### `--no-deprecation`
添加于v0.8.0

压制弃用警告信息。

### `--trace-deprecation`
添加于v0.8.0

为弃用打印堆栈跟踪。

### `--throw-deprecation`
添加于v0.11.14

为弃用抛出错误。

### `--no-warnings`
添加于v6.0.0

压制所有的进程警告信息（包括弃用）。

### `--trace-warnings`
添加于v6.0.0

为进程警告信息（包括弃用）打印堆栈跟踪。

### `--trace-sync-io`
添加于v2.1.0

第一次打开时间循环后，每当何时检测到同步I/O，则打印堆栈跟踪。

### `--zero-fill-buffers`
添加于v6.0.0

自动以零填充所有的新分配的[Buffer](https://nodejs.org/dist/latest-v6.x/docs/api/buffer.html#buffer_buffer)和[SlowBuffer](https://nodejs.org/dist/latest-v6.x/docs/api/buffer.html#buffer_class_slowbuffer)实例。

### `--preserve-symlinks`
添加于v6.3.0

当解析和缓冲模块时，指导模块加载器保存符号链接。

默认情况下，当Node.js从一个符号链接到磁盘不同位置的路径加载一个模块，Node.js会解除链接的引用并使用模块的实际的磁盘真实路径作为标识符和一个根路径来定位其他依赖模块。大多数情况下，这种默认行为都是可接受的。但是，当使用符号链接对等的依赖，如下例所示，如果`modualA`企图将`modualB`作为对等的依赖引入，默认行为会导致一个异常抛出。
```
{appDir}
 ├── app
 │   ├── index.js
 │   └── node_modules
 │       ├── moduleA -> {appDir}/moduleA
 │       └── moduleB
 │           ├── index.js
 │           └── package.json
 └── moduleA
     ├── index.js
     └── package.json
```
`--preserve-symlinks`命令行标志指导Node.js为模块使用相对于真实路径的符号链接路径，允许找到符号链接对等依赖。

注意，使用`--preserve-symlinks`可能会有其他副作用。准确地说，符号链接的本地模块如果是从依赖树的不止一个位置，则模块加载会失败（Node.js会将其视为两个分离的模块，并会企图加载多次，导致抛出异常）。

### `--track-heap-objects`
添加于v2.4.0

追踪堆快照的堆对象分配。

### `--prof-process`
添加于v6.0.0

处理用v8选项`--prof`产生的v8分析器输出。

### `--v8-options`
添加于v0.1.3

打印出v8命令行参数。

注意：v8参数允许使用破折号(`-`)或者下划线(`_`)分隔单词。

例如：`--stack-trace-limit`与`--stack_trace_limit`等价。

### `--tls-cipher-list=list`
添加于v4.0.0

指定一个可选的默认TLS密码表。（需要Node.js使用加密支持构建。（默认情况））

### `--enable-fips`
添加于v6.0.0

在启动时启用顺从FIPS加密。（需要Node.js使用`./configure --openssl-fips`构建）

### `--force-fips`
添加于v6.0.0

在启动时强制使用顺从FIPS加密。（不能在脚本代码中关闭。）（需求与`--enable-fips`相同）

### `--icu-data-dir=file`
添加于v0.11.15

指定ICU数据加载路径。（覆盖`NODE_ICU_DATA`）

## 环境变量
### `NODE_DEBUG=module[,...]`
添加于v0.1.32

使用`,`分隔的核心模块列表应该打印调试信息。

### `NODE_PATH=path[:...]`
添加于v0.1.32

使用`:`分隔的目录列表作为前缀添加到模块搜索路径。

注意：在Windows下，使用`;`替代作为分隔符。

### `NODE_DISABLE_COLOR=1`
添加于v0.3.0

设置为`1`时，不会在REPL中使用颜色。

### `NODE_ICU_DATA=life`
添加于v0.11.15

ICU（国际的对象）数据的数据路径。当使用支持small-icu编译时，会扩展连接内数据。

### `NODE_REPL_HISTORY=file`
添加于v3.0.0

用于保存持久化REPL历史的文件路径。默认路径是`~/.node_repl_history`，会被该变量覆盖。将该值设置为空字符串（`""`或者`''`），则关闭持久化REPL历史功能。

### `NODE_TTY_UNSAFE_ASYNC=1`
添加于v6.4.0

设置为`1`时，当在支持异步标准输入输出的平台上输出到一个电传打字机时，写入到`stdout`和`stderr`将会是非阻塞和异步的。设置这个将会使任何保证无效，标准输入输出将不会隔行扫描，或在程序退出时抛弃。**不推荐使用该模式。**
