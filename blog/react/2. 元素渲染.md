# 元素渲染
> 记录时间：2018-10-24

React应用中最小的积木是元素（Elements）。

一个元素描述了你想要在屏幕中看到的内容：
```js
const element = <h1>Hello, world</h1>;
```

与浏览器DOM元素不同，React元素是简单对象，创建简单。React DOM负责更新DOM来匹配React元素。

> **注意：** “元素”和另一个熟知的概念“组件”可能会混淆，它们之间的关系为：*组件是由元素构成的*。

## 将元素渲染到DOM中

假设你的HTML文件中有一个`<div>`元素：
```html
<div id="root"></div>
```

我们将其称为一个“根”DOM节点，因为其内部的所有内容都将由React DOM来管理。

只由React构建的应用通常只有一个单个的根DOM节点。如果你要将React整合到现有的应用中，你可以创建任意数量的独立根DOM节点。

为了将React元素渲染到根DOM节点中，只需将二者都作为参数传给`ReactDOM.render()`：
```js
const element = <h1>Hello, world</h1>;
ReactDOM.render(element, document.getElementById('root'));
```

## 更新已渲染的元素

React元素是不可变的。一旦你创建了这个元素，就不能更改它的子元素和属性。一个元素就像是一部电影里面的单帧，它表示了某个时间点上的UI。

查看下例：
```js
function tick() {
  const element = (
    <div>
      <h1>Hello, world!</h1>
      <h2>It is {new Date().toLocaleTimeString()}.</h2>
    </div>
  );
  ReactDOM.render(element, document.getElementById('root'));
}

setInterval(tick, 1000);
```

以上代码，通过`setInterval()`回调，每秒调用一次`ReactDOM.render()`。

> **注意：** 在实际应用中，大多数React应用都只会调用`ReactDOM.render()`一次。要改进上面的代码，具体实现可以查看[状态组件](https://reactjs.org/docs/state-and-lifecycle.html)。

## React只更新需要更新的内容

React DOM将元素及其子元素与之前的进行比较，只对需要更新的DOM应用更新。

可以通过浏览器工具检查上面的[例子](https://reactjs.org/redirect-to-codepen/rendering-elements/update-rendered-element)

![React DOM更新图示](https://reactjs.org/granular-dom-updates-c158617ed7cc0eac8f58330e49e48224.gif)

即使我们每秒创建一个描述整个UI树的元素，也只有内容改变的文本节点会被React DOM更新。

根据经验，考虑UI在任意指定时刻应该如何展示，而不是怎样随着时间去改变它，能够消除一堆bug。
