# package-lock.json文件
> 记录时间：2018-10-27

## 描述

当npm修改`node_modules`树，或者`package.json`文件时，就会自动生成一个`package-lock.json`文件。

它确切描述了生成的树，以便后续的安装能够生成相同的树，而不管中间依赖的更新。

该文件是应该提交到源码仓库的，它有以下几点作用：

- 描述依赖关系树的单个表示，以确保队友，部署和持续集成能够安装完全相同的依赖关系。
- 为用户提供一种“时间旅行”到之前的node_modules状态的工具，而无需提交目录本身。
- 通过可读的源代码控制差异来促进树更改的更大可见性。
- 并通过允许npm跳过以前安装的包的重复元数据解析来优化安装过程。


原来package.json文件只能锁定大版本，也就是版本号的第一位，并不能锁定后面的小版本，你每次npm install都是拉取的该大版本下的最新的版本，为了稳定性考虑我们几乎是不敢随意升级依赖包的，这将导致多出来很多工作量，测试/适配等，所以package-lock.json文件出来了，当你每次安装一个依赖的时候就锁定在你安装的这个版本。

在以前可能就是直接改package.json里面的版本，然后再npm install了，但是5版本后就不支持这样做了，因为版本已经锁定在package-lock.json里了，所以我们只能npm install xxx@x.x.x  这样去更新我们的依赖，然后package-lock.json也能随之更新。
