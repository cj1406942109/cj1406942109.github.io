# 安装包
> 记录时间：2018-10-27

安装npm包有两种方式：

- 本地安装：如果你自己的模块依赖于某个包，并且通过Node.js的require加载，那么应该选择本地安装，这也是`npm install`的默认行为
- 全局安装：如果你想将包作为一个命令行工具，（比如 grunt CLI），那么应该选择全局安装


## 本地安装

```sh
npm install <package_name>
```
上述命令执行之后将会在当前的目录下创建一个 node_modules 的目录（如果不存在的话），然后将下载的包保存到这个目录下。

为了确认 npm install 是正常工作的，可以检查 node_modules 目录是否存在，并且里面是否含有你安装的包的文件夹。

示例：
安装一个叫做 lodash 的包。安装成功之后，如果 node_modules 目录下存在一个名为 lodash 的文件夹，则说明成功安装了这个包。

```sh
# 安装
npm install lodash

# 查看
dir node_modules    # 或者 ls node-modules（在linux中）

```

## 全局安装

```sh
npm install -g <package_name>
```

## 安装的版本

在本地目录中如果没有 package.json 这个文件的话，那么最新版本的包会被安装。

如果存在 package.json 文件，则会在 package.json 文件中查找针对这个包所约定的语义化版本规则，然后安装符合此规则的最新版本。

## 使用已安装的包

一旦将包安装到 node_modules 目录中，你就可以使用它了。比如在你所创建的 Node.js 模块中，你可以 require 这个包。

示例：
创建一个名为 index.js 的文件，并保存如下代码：
```js
// index.js
var lodash = require('lodash');
 
var output = lodash.without([1, 2, 3], 1);
console.log(output);
```

运行 `node index.js`，应该输出`[2, 3]`。
